# NetGuardian AI Environment Configuration
# Copy this file to .env and update with your values

# =============================================================================
# DATABASE
# =============================================================================
DB_PASSWORD=change-this-secure-password
DATABASE_URL=postgresql://netguardian:${DB_PASSWORD}@db:5432/netguardian

# Database connection pool settings (performance tuning)
DB_POOL_SIZE=20                    # Number of persistent connections
DB_MAX_OVERFLOW=30                 # Extra connections beyond pool_size
DB_POOL_TIMEOUT=30                 # Seconds to wait for available connection
DB_POOL_RECYCLE=1800               # Recycle connections after 30 minutes

# =============================================================================
# REDIS
# =============================================================================
REDIS_URL=redis://redis:6379/0
REDIS_MAX_CONNECTIONS=50           # Max connections in Redis pool

# =============================================================================
# HTTP CLIENT (for external API calls)
# =============================================================================
HTTP_TIMEOUT_SECONDS=30            # Request timeout
HTTP_MAX_CONNECTIONS=100           # Max connections per host
HTTP_KEEPALIVE_EXPIRY=30           # Seconds to keep idle connections

# =============================================================================
# AUTHENTICATION
# =============================================================================
# IMPORTANT: Generate a unique secret key for production!
# Generate with: openssl rand -hex 32
SECRET_KEY=change-this-to-a-random-64-character-hex-string
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# APPLICATION
# =============================================================================
APP_NAME=NetGuardian AI
DEBUG=false
LOG_LEVEL=INFO
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]

# =============================================================================
# LOG INGESTION
# =============================================================================
LOG_SOURCES_DIR=/logs
LOG_INGESTION_API_ENABLED=true
LOG_INGESTION_RATE_LIMIT=1000      # Events per minute per source

# =============================================================================
# LLM CONFIGURATION
# =============================================================================
ANTHROPIC_API_KEY=sk-ant-api-your-key-here
LLM_ENABLED=true
LLM_MODEL_DEFAULT=claude-sonnet-4-20250514
LLM_MODEL_FAST=claude-haiku-4-20250514
LLM_MODEL_DEEP=claude-sonnet-4-20250514
LLM_CACHE_ENABLED=true             # Enable Anthropic prompt caching

# =============================================================================
# ADGUARD HOME INTEGRATION
# =============================================================================
ADGUARD_ENABLED=false
ADGUARD_URL=http://192.168.1.1:3000
ADGUARD_USERNAME=admin
ADGUARD_PASSWORD=your-adguard-password
ADGUARD_VERIFY_SSL=true

# =============================================================================
# ROUTER INTEGRATION (UniFi / pfSense / OPNsense)
# =============================================================================
# Type options: unifi, pfsense, opnsense
ROUTER_INTEGRATION_TYPE=
ROUTER_URL=https://192.168.1.1:8443
ROUTER_USERNAME=admin
ROUTER_PASSWORD=your-router-password
ROUTER_SITE=default                # For UniFi only
ROUTER_VERIFY_SSL=true

# =============================================================================
# OLLAMA LLM MONITORING (Local AI Security)
# =============================================================================
OLLAMA_ENABLED=false
OLLAMA_URL=http://localhost:11434
OLLAMA_POLL_INTERVAL_SECONDS=30
OLLAMA_VERIFY_SSL=false
OLLAMA_DETECTION_ENABLED=true      # Enable malware/injection detection
OLLAMA_PROMPT_ANALYSIS_ENABLED=true # Use Claude to analyze prompts
OLLAMA_ALERT_ON_INJECTION=true     # Create alerts for detected attacks
OLLAMA_INJECTION_SEVERITY=high     # Alert severity for injections
